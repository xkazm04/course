{
  "title": "LLM Application Health - Gemini Learning Platform",
  "description": "End-to-end observability for Gemini-powered learning path and content generation (Datadog Hackathon)",
  "layout_type": "ordered",
  "widgets": [
    {
      "definition": {
        "title": "Total LLM Requests (24h)",
        "type": "query_value",
        "requests": [
          {
            "q": "sum:llm.gemini.request.count{*}.as_count()",
            "aggregator": "sum"
          }
        ],
        "autoscale": true,
        "precision": 0
      }
    },
    {
      "definition": {
        "title": "P95 Latency (ms)",
        "type": "query_value",
        "requests": [
          {
            "q": "avg:llm.gemini.request.latency{*}",
            "aggregator": "avg"
          }
        ],
        "autoscale": true,
        "precision": 0,
        "custom_unit": "ms"
      }
    },
    {
      "definition": {
        "title": "Error Count (24h)",
        "type": "query_value",
        "requests": [
          {
            "q": "sum:llm.gemini.errors{*}.as_count()",
            "aggregator": "sum"
          }
        ],
        "autoscale": true,
        "precision": 0
      }
    },
    {
      "definition": {
        "title": "Estimated Cost (24h)",
        "type": "query_value",
        "requests": [
          {
            "q": "sum:llm.gemini.cost.usd{*}",
            "aggregator": "sum"
          }
        ],
        "autoscale": true,
        "precision": 4,
        "custom_unit": "$"
      }
    },
    {
      "definition": {
        "title": "LLM Request Latency Over Time",
        "type": "timeseries",
        "requests": [
          {
            "q": "avg:llm.gemini.request.latency{*}",
            "display_type": "line",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Latency by Operation",
        "type": "timeseries",
        "requests": [
          {
            "q": "avg:llm.gemini.request.latency{*} by {operation}",
            "display_type": "line",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Token Usage Over Time",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:llm.gemini.tokens.input{*}.as_count()",
            "display_type": "area",
            "style": {
              "palette": "cool"
            }
          },
          {
            "q": "sum:llm.gemini.tokens.output{*}.as_count()",
            "display_type": "area",
            "style": {
              "palette": "warm"
            }
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Tokens by Operation",
        "type": "toplist",
        "requests": [
          {
            "q": "sum:llm.gemini.tokens.total{*} by {operation}.as_count()"
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Cost Over Time",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:llm.gemini.cost.usd{*}",
            "display_type": "line",
            "style": {
              "palette": "orange",
              "line_type": "solid",
              "line_width": "thick"
            }
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Cost by Service",
        "type": "toplist",
        "requests": [
          {
            "q": "sum:llm.gemini.cost.usd{*} by {service}"
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Errors Over Time",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:llm.gemini.errors{*} by {error_type}.as_count()",
            "display_type": "bars",
            "style": {
              "palette": "warm"
            }
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Grounding Usage",
        "type": "query_value",
        "requests": [
          {
            "q": "sum:llm.gemini.grounding.used{*}.as_count()",
            "aggregator": "sum"
          }
        ],
        "autoscale": true,
        "precision": 0
      }
    },
    {
      "definition": {
        "title": "Oracle - Learning Paths Generated",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:oracle.path.generated{*} by {domain}.as_count()",
            "display_type": "bars",
            "style": {
              "palette": "dog_classic"
            }
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Oracle - Sessions by Domain",
        "type": "toplist",
        "requests": [
          {
            "q": "sum:oracle.session.created{*} by {domain}.as_count()"
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Content Jobs Over Time",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:content.job.completed{*} by {status}.as_count()",
            "display_type": "bars",
            "style": {
              "palette": "semantic"
            }
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Courses Created (24h)",
        "type": "query_value",
        "requests": [
          {
            "q": "sum:content.course.created{*}.as_count()",
            "aggregator": "sum"
          }
        ],
        "autoscale": true,
        "precision": 0
      }
    },
    {
      "definition": {
        "title": "Project Scanner - Repos Scanned",
        "type": "query_value",
        "requests": [
          {
            "q": "sum:project.repo.scanned{*}.as_count()",
            "aggregator": "sum"
          }
        ],
        "autoscale": true,
        "precision": 0
      }
    },
    {
      "definition": {
        "title": "Project Scanner - Features Extracted",
        "type": "query_value",
        "requests": [
          {
            "q": "sum:project.feature.extracted{*}.as_count()",
            "aggregator": "sum"
          }
        ],
        "autoscale": true,
        "precision": 0
      }
    },
    {
      "definition": {
        "title": "Scan Jobs Over Time",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:project.scan.job.completed{*} by {scan_type}.as_count()",
            "display_type": "bars",
            "style": {
              "palette": "dog_classic"
            }
          }
        ]
      }
    },
    {
      "definition": {
        "title": "GitHub API Rate Limit",
        "type": "timeseries",
        "requests": [
          {
            "q": "avg:project.github.rate_limit.remaining{*}",
            "display_type": "line",
            "style": {
              "palette": "orange",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Assignments Created (24h)",
        "type": "query_value",
        "requests": [
          {
            "q": "sum:project.assignment.created{*}.as_count()",
            "aggregator": "sum"
          }
        ],
        "autoscale": true,
        "precision": 0
      }
    },
    {
      "definition": {
        "title": "Assignments Completed (24h)",
        "type": "query_value",
        "requests": [
          {
            "q": "sum:project.assignment.completed{*}.as_count()",
            "aggregator": "sum"
          }
        ],
        "autoscale": true,
        "precision": 0
      }
    },
    {
      "definition": {
        "title": "Assignment Lifecycle",
        "type": "timeseries",
        "requests": [
          {
            "q": "sum:project.assignment.created{*}.as_count()",
            "display_type": "bars",
            "style": {
              "palette": "blue"
            }
          },
          {
            "q": "sum:project.assignment.completed{*}.as_count()",
            "display_type": "bars",
            "style": {
              "palette": "green"
            }
          }
        ]
      }
    },
    {
      "definition": {
        "title": "Avg Assignment Score",
        "type": "query_value",
        "requests": [
          {
            "q": "avg:project.assignment.score{*}",
            "aggregator": "avg"
          }
        ],
        "autoscale": true,
        "precision": 0,
        "custom_unit": "%"
      }
    }
  ],
  "template_variables": [
    {
      "name": "service",
      "default": "*",
      "prefix": "service"
    },
    {
      "name": "env",
      "default": "production",
      "prefix": "env"
    }
  ],
  "notify_list": [],
  "reflow_type": "auto"
}
